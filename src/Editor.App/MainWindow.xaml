<Window x:Class="Editor.App.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Freemium Photo Editor"
        Width="1200" Height="800"
        Background="{DynamicResource Brush.AppBackground}"
        UseLayoutRounding="True"
        WindowStyle="None"
        ResizeMode="CanResize"
        AllowsTransparency="False">
  <Grid>
    <Grid.RowDefinitions>
      <RowDefinition Height="48"/>
      <RowDefinition Height="*"/>
    </Grid.RowDefinitions>

    <!-- Top bar personalizada con look tipo Windows Photos -->
    <Border Grid.Row="0"
            Style="{DynamicResource TopBarBorder}"
            MouseLeftButtonDown="TopBar_MouseLeftButtonDown">
      <Grid>
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="Auto"/>
          <ColumnDefinition Width="*"/>
          <ColumnDefinition Width="Auto"/>
        </Grid.ColumnDefinitions>

        <!-- Izquierda: acciones principales -->
        <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center" Margin="12,0,0,0">
          <Button x:Name="OpenBtn"
                  Style="{DynamicResource AccentCommandButtonStyle}"
                  Click="Open_Click"
                  ToolTipService.ToolTip="Open image"
                  Margin="0,0,8,0">
            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
              <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE8E5;" Margin="0,0,6,0"/>
              <TextBlock Text="Open" FontWeight="SemiBold"/>
            </StackPanel>
          </Button>
          <Button x:Name="UndoBtn"
                  Style="{DynamicResource TopBarIconButtonStyle}"
                  Click="Undo_Click"
                  ToolTipService.ToolTip="Undo"
                  Margin="0,0,4,0">
            <TextBlock FontFamily="Segoe MDL2 Assets" FontSize="16" Text="&#xE7A6;"/>
          </Button>
          <Button x:Name="RedoBtn"
                  Style="{DynamicResource TopBarIconButtonStyle}"
                  Click="Redo_Click"
                  ToolTipService.ToolTip="Redo">
            <TextBlock FontFamily="Segoe MDL2 Assets" FontSize="16" Text="&#xE7A7;"/>
          </Button>
        </StackPanel>

        <!-- Centro: tÃ­tulo del documento -->
        <TextBlock x:Name="DocumentTitle"
                   Grid.Column="1"
                   HorizontalAlignment="Center"
                   VerticalAlignment="Center"
                   FontSize="14"
                   FontWeight="SemiBold"
                   Text="Freemium Photo Editor"
                   Opacity="0.92"/>

        <!-- Derecha: tema + controles de ventana -->
        <StackPanel Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Center" Margin="0,0,4,0">
          <Button Style="{DynamicResource TopBarIconButtonStyle}"
                  Click="OnToggleThemeClick"
                  ToolTipService.ToolTip="Toggle light/dark"
                  Margin="0,0,4,0">
            <TextBlock FontFamily="Segoe MDL2 Assets" FontSize="16" Text="&#xE793;"/>
          </Button>
          <Button Style="{DynamicResource WindowControlButtonStyle}"
                  Click="Minimize_Click"
                  ToolTipService.ToolTip="Minimize"
                  Content="&#xE921;"
                  Margin="0,0,2,0"/>
          <Button x:Name="MaximizeRestoreBtn"
                  Style="{DynamicResource WindowControlButtonStyle}"
                  Click="MaximizeRestore_Click"
                  ToolTipService.ToolTip="Maximize"
                  Content="&#xE922;"
                  Margin="0,0,2,0"/>
          <Button Style="{DynamicResource WindowCloseButtonStyle}"
                  Click="Close_Click"
                  ToolTipService.ToolTip="Close"
                  Content="&#xE8BB;"/>
        </StackPanel>
      </Grid>
    </Border>

    <!-- Contenido -->
    <Grid Grid.Row="1" Background="{DynamicResource Brush.AppBackground}">
      <Image x:Name="Preview" Stretch="Uniform"
             HorizontalAlignment="Center" VerticalAlignment="Center"/>
    </Grid>
  </Grid>
</Window>
